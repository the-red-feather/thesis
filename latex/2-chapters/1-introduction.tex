\chapter{Introduction}

\begin{note}
Notes: 
- I still use browser-based geoprocessing and the geo-web-vpl quite interchangeably in the introduction. Both need to be linked up better.

\end{note}

% 1) General story on geo-information. Go from data to application
% - geo-information applications are extremely valuable
% - bring the side of the gis application & geo-computation to the reader's attention. 

% Component of geo-computation.
% Overlap with other fields (CAD, medical, sfx) 
% Computational Geometry
% Examples: 
% Fit plane through 3d-points
% Triangulation
% Convex hull

In order to specify the contribution of this thesis, I wish to bring two fields of study to the reader's attention: Visual programming, and Web GIS. 
After this, the subject and goal this thesis can be made clear.

\subsection*{Visual programming}

\emph{What is a VPL and how is it used within the field of geo-information?}

% 2) Establish the VPL, and how it is used within geomatics 
A \ac{vpl}, or visual programming environment, is a type of programming language represented in a graphical, non-textual manner.
A VPL often refers to both the language and the Integrated Development Environment (IDE) which presents this language.
% Famous examples of VPLs are:
% \begin{itemize}
%   \item Ladder Diagram (src), the industry-standard method of programming Programmable Logic Controllers (PLCs)
%   \item Scratch (src), a educational programming language
%   \item 
% \end{itemize}

% ... (name something about Dataflow programming, a programming paradigm often used in conjunction with a vpl. ) ... 

Within the field of geo informatics, VPL's are most often used for specifying geodata transformations and performing spatial analyses.  
SaveSoft's FME (SOURCE) is a good example of this. This Extract Load Transform (ETL) platform automates data integration, and is widely used by GIS experts. 
% while McNeels's Grasshopper (SOURCE) is often used spatial analysis of buildings and cities, like solar irradiation. 
% Name Rasterfoundry ModelLab
% Name GeoFlow maybe
VPLs like these offers users a chance to interactively automate workflows \& processing pipelines, while requiring little to no programming knowledge. 
In between results can be inspected intuitively, and the processes can be changed on the fly, often with immediate feedback.
This advantage of interactive, low-code automation is why the VPL continues to be a popular interface within the field of GIS, as well as all many other use-cases in need of both low-code automation and visual debugging, like BIM, CAD, Shader Programming and Procedural Geometry. 
A VPL done right can make automation available to a very large audience. 

% -> testing & reproducability.
% RANSAC -> many 'magic' parameter. They need to be discovered by 'play'
% Jonathan blow -> using interactive applications, an intrinsic understanding can be gained without explicit communication.
% Game Of Life -> impossibility of 'proving' behaviour systems. 


\subsection*{Web GIS}

\begin{note}
  This question questions too much at once, maybe I should split it up  
\end{note}
\emph{What is web GIS and why is browser-based geo-computation relevant?}

Web \ac{gis} forms an indispensable component of the wider geospatial software landscape. 
For the average person, an interactive \ac{gis} web application is often their first and only exposure to a \acs{gis}, be it a web mapping service, a navigation system, or a pandemic outbreak dashboard. 
A web application is cross-platform by nature, and offers ease of accessibility, since no installment or app-store interaction is required to run or update the app. (src: vpl 2019, src: hybrid)
As soon as it can be found, it can be used.
The ability to share a full application with a link, or to embed it within the larger context of a webpage is also not trivial. 
Together, these aspects have made the browser a popular host for many important geographical applications, especially when accessibility is vital.

Despite the popularity of geographical web applications, the range of actual \ac{gis} abilities these applications are capable of is very limited. \ac{geo-computation} abilities, like CRS translations, bundle adjustment, interpolation or boolean operators, are usually not present within the same software environment as the web app. Consequently, current geospatial web applications serve for the most part as viewers; visualizers of pre-processed data. 

However, this limited range of capabilities inhibits the number of use cases geographical web applications can serve, and with that the usefulness of web \ac{gis} as a whole.
If web applications gain \ac{geo-computation} capabilities, they could grow to be just as diverse and useful as desktop \ac{gis} applications, with the added benefits of being a web application. It would allow for a new range of highly accessible and sharable geo-computation and analysis tools, which end-users could use to post-process and analyze geodata quickly, uniquely, and on demand.

% all of this is to say: web-based geo-computation is a valuable topic 
% orms an important step in the advancement of web \ac{gis}. This is why this topic
This is why \ac{geo-computation} within a web browser, henceforth dubbed as \ac{bbg}, is slowly gaining traction during the last decade \cite{kulawiak_analysis_2019, panidi_hybrid_2015, hamilton_client-side_2014}. 
Interactive geospatial data manipulation and online geospatial data processing techniques have been described as "current highly valuable trends in evolution of the Web mapping and Web GIS" \cite{panidi_hybrid_2015}. 
But this also raises the question: \textit{Why is geo-computation within a web application as of today still almost nowhere to be found?} 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Note: this are all fragments and motivations. I'm leaving them here, don't
% be bothered by them, keep things concise, but if we need extra baggage, we 
% can get it from here. 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% This design of geofront contains several challenges. Browser-based geo-computation (BBGC) might not be as performant as back-end / native geo-computation \cite{panidi_hybrid_2015, hamilton_client-side_2014}, even with the usage of WebAssembly \cite{jangda_not_2019}. 
% Additionally, since current visual programming environments all fall short on at least one of the above features, the visual programming environment will have to be created from scratch.

% The cloud-native geospatial movement represents a significant opportunity and challenge to these VPL interfaces. The \textbf{opportunity} lies in the fact that a VPL interface is highly suitable as a 'configurator' or 'IDE' for cloud-computation. The promise of interactive, low-code automation matches the desire of most cloud native geo-computation providers to support users of different backgrounds, both programmers and non-programmers, both full GIS experts as well as non-experts (SOURCE: Modellab, SOURCE: Chris Holmes). A good example of this is the ModelLab VPL, found in Raster Foundry (SOURCE). This is also evident in the fact that existing VPL's like FME and Grasshopper have added proprietary cloud-computation features like FME Cloud (SOURCE) and ShapeDiver (SOURCE), respectively.

% <!-- HOWEVERRRRRRRRR -->
% However, the major \textbf{challenge} is that as of right now and despite these developments, popular VPL's fall short on a number of priorities and features required for cloud-native geospatial computation. 
% These shortcomings include their closed and proprietary nature, their distance from regular programming features and conventions (git version control, continuous integration), and the non-containerized, one to one relationship between the IDE application \& the cloud hosting platform. All of this hinders their suitability as general, cloud-computation configurers. 

% Sub component: FAIR: 
% - FINDABLE:      Hard to find the right tools for the job
% - ACCESSIBLE:    Hard to access these tools (install, setup environment, look at what you are doing)
% - INTEROPERABLE: Hard to use two tools from different ecosystems (bindings, plugins, etc). 
% - REUSABLE:      Hard to re-use a specific scripts written for one use case in another use case

% For a geo-computation method to match the 'cloud native geospatial movement'

% Currently, WebAssembly is the only way one can take a geo-computation function from an arbitrary source, and use it in both the browser and on a server. 
% We wish to discover if this has any practical use cases. 

% - "As massive datasets become more and move available, the availability of the \emph{means} to process and analyse these data becomes more and more relevant". 

% Despite these advantages, open, accessible vpl's are often unavailable. 
% - Expensive, proprietary environments 
% - Require specific plugins in order to utilize open, industry standard geo-computation libraries
% - Not FAIR geo-computation

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% This thesis explores if these in-between processing steps could also be performed within a web application.  

% This way, geodata processing applications could profit from the ease of accessibility and maintainability granted by the web as a platform.  

% <!-- More Why of web GIS and web-geo-computation: 
% - making the geoweb more feature-rich
% - allowing quick demonstration (wapm)
% - allowing easy access (overleaf)

% ## Motivation
% Under normal circumstances, Web applications within the field of geo-informatics are mostly used for the first and final stages of a common geodata process: Retrieval and visualization. 
% The processing stages in-between are almost always performed on the desktop using environments like QGIS or ArcGIS, or by writing and using CLI tools. 

% <!-- At the same time, a need arrises -->

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Under normal circumstances, Web applications within the field of geo-informatics are mostly used for the first and final stages of a common geodata process.  
% (
% If one wishes to retrieve geodata, web portals are used to discover the required datasets. After this, the OGC Web Services are often utilized to download and truly access this geodata. 

% This geodata is then processed locally, using QGIS, ArcGIS, command line tools, or any other 

% and at the end Tools like Leaflet and Celcium have been created to visualize the earth in both 2D and 3D , and tools like d3.js can produce interactive graphs to supplement these web pages. 

% There is, however, more to the web than just visualization. Due to 
% )
% This thesis asks the question if the web could do more than just visualization. 

% By creating the use-case application GeoFront, we ask the question if a modern web browser, and the current state of the client-side web technologies are capable of facilitating  

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\section{Problem Statement}
Taken together, the proven usefulness of a vpl for geodata computation, together with the theorized potential of browser-based geo-computation, raise the question why a browser-based visual programming environment for geo-computation (geo-web-vpl) does not exist yet.

Prior studies give an indication to where the disconnect between the field of geo-VPLs and web-GIS may be.  
We encounter either geo-VPLs which were not able to be properly used in a browser, or web-based VPLs unable to support geo-computation functionalities.
This suggest that geo-computation functionalities:
\begin{itemize}[-]
  \item Were not able to be properly compiled into a format functional on the web
  \item Were not able to be properly consumed and used by a web-based VPL
  \item Were not able to be properly facilitated by the interface of a non-geo web-VPL
\end{itemize}

Moreover, the real reason of this disconnect may not lie in one of these areas, but in the interplay between all three of these factors. 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newpage
\section{Research Objective}
This study seeks to close the gap between geo-VPLs and web-GIS by designing and implementing a geo-web-vpl.
The study starts from the presupposition that proper utilization of existing geo-computation functionalities and libraries within a VP environment is key to making a geo-web-vpl succeed. 
As such, overcoming this technical challenge is the focal point of this study. 

\section{Research Questions}
Based on this objective, the research question is formulated as follows: 
\begin{itemize}[ ]
  \item \myMainRQ
\end{itemize}

\subsection*{Sub Questions}
The following sub-research questions are needed in order to answer the main question.
These are based upon various components of the main problem statements. 
\begin{itemize}[-]
  \item \mySubRQOne
  \item \mySubRQTwo
  \item \mySubRQThree
  \item \mySubRQFour
\end{itemize}
In order to obtain answers to these questions, a literature review is performed,
an experimental software application is developed, 
and this application is tested and compared to existing methods using real-world datasets.

% If I have to boil everything down to one thing and one thing only, I would choose: Connection to regular software development. 

% ELLIE 
% - To what extent can machine learning provide a better estimate of the number of floors than a purely geometric approach?

% a. Which features are related to the number of floors? Is there any overlap between these features
% and which subset yields the best results?
% b. Which machine learning algorithm provides the best results? How are the results affected by
% feature subsets that reflect different levels of data availability?
% c. What level of performance can be achieved compared to a purely geometric approach? What types
% of gross errors are present?
% d. Since floor count is generally an integer value, is this a regression or classification problem? If
% considered regression, how does rounding the predictions affect the results?

\newpage
\section{Scope}
The scope of this thesis is cornered in the following ways: 

\subsection*{Only frontend geo-computation}
This study excludes any \emph {backend} based geo-computation.
A web application \textit{could} be used to orchestrate geo-computation web-services, which could also deliver a form of browser-based geo-computation to end-users. 
However, for the scope of this thesis, we limit ourselves to purely client-side solutions, with calculations literally happening within the clients browser. 
This is also why this study excludes the OGC standard of the \ac{wps} \cite{ogc_web_2015}.

Adding backend-based geo-computation to a geo-web-VPL would be an excellent follow-up investigation to this study. 
Future work could research the possibility of utilizing a hybrid strategy of both client-side and server-side geo-computation, following in the footsteps of \cite{panidi_hybrid_2015}. 

\subsection*{No Usability Analysis} % 
While accessibility / usability is a motivation of the development of a \ac{vpl}, no claims will be made that this method of geo-computation is more usable as opposed to existing geo-computation methods. This research attempts to solve practical inhibitions in order to discover whether or not browser-based, vpl-based geo-computation is \emph{a} viable option. If it turns out that this method is viable technically, future research will be needed to definitively proof \emph{how} usable it is compared to all other existing methods.  

% This paper seeks to first close this gap, limiting itself to overcoming the technical and design boundaries in the pursuit of practical client-side geo-computation.

Similarly, a survey analyzing how users experience browser-based geo-computation in comparison to native geo-computation must also be left to subsequent research. While this would gain us tremendous insight, client-side geo-computation is too new to make a balanced comparison. Native environments like QGIS, FME or ArcGIS simply have a twenty year lead in research and development. 

% It is my goal to introduce this as a new geo-computation option, and to name the advantages and disadvantages we can be sure of. An actual comparison of client-side vs native geo-computation is something different. 

\subsection*{Only WebAssembly-based containerization}
This thesis examines a WebAssembly-based approach to containerization and distribution of geo-computation functionalities. 
Containerization using Docker is also possible for server-side applications, but is not usable within a browser. 
For this reason, Docker-based containerization is left out of this studies' examination. 
And to clarify: Docker and WebAssembly are not mutually exclusive models, and can be used in conjunction on servers or native environments. 

\subsection*{Mostly Point Cloud/ DTM focussed geo-computation}
We are also required to concentrate on the scope of 'geo-computation', which is a sizable phenomenon.
The term is generally used to cover all operations on geodata, from rasters, tabular datasets, 'object-oriented datasets' such as the CityJSON or IndoorGML, and point clouds. 
Due to time limitations, we are forced to focus on particular type of geo-computation.
3D-based geo-computation is chosen, with a particular focus on pointclouds and and DTMs. 
The hypothesis is that these types of data may benefit the most from 'geo-web-vpl' based geo-computation.

\subsection*{Only core browser features}
Lastly, the implementation of the geo-web-vpl will limit itself to core browser features, keeping dependencies at a minimum, in an attempt to generalize the results of the study.
If the study would use very specific frameworks and technologies to solve key issues, questions might arise if the results of the study counts in general for browser-based geo-computation or geo-VPLs, or if they only count in this very specific scenario. 
"Core browser-"
- Only using basic HTML5 features.

This study defines "Core browser features" as the set of features present in most major, contemporary browser vendors by default, by which we mean Firefox, Safari, and chromium-based web browsers (src). 
This includes modern HTML features such as WebGL, the Canvas API, Web Workers, Web Components, and WebAssembly. 

\newpage
\section{Reading Guide}

The remainder of this study is structured as follows:
\begin{itemize}[ ]
  \item \refchap{chap:related}, Related Work, provides an overview of the theoretical background that is used in the rest of this study. (Covers related studies in the field of geo-VPL and web GIS. VPL: To what extend does this study overlap with other geo-vpl's? GEOWEB: Which technologies are available for browser-based geoprocesing? )

  \item \refchap{chap:methodology}, Methodology, explains precisely in what way the research-questions will be answered. In addition, the main design decisions are described and justified in this part of the study.

  \item \refchap{chap:implementation}, Implementation, presents the implementation of the methodology. Additionally, it Provides an answer for the \textit{\mySubRQOneTitle, \mySubRQTwoTitle , and \mySubRQThreeTitle} sub research questions. 
  \subitem Answer of "\mySubRQOneTitle": Show all wasm-considerations: C++ vs Rust vs rewriting in Js. Emscripten vs wasm-bindgen. Conclude with the preference for rust, and explain why.
  \subitem Answer of "\mySubRQTwoTitle": Show the full application implementation. Conclude with what about this implementation is relevant for geo-computation. 
  \subitem Answer of "\mySubRQThreeTitle": the plugin system schema. 
  
  \item \refchap{chap:experiments}: Experiments, describes the results obtained after the implementation of the methodology. With these results, an answer to the fourth research question of \mySubRQFourTitle can be given. 

  \item \refchap{chap:conclusion}: Conclusion, 
  \subitem conclude to which extend the solution was able to satisfy the main research question. 
  \subitem discuss to which extend the solution was able to satisfy main research question.
  \subitem discuss unaddressed aspects of the thesis, such as the massive nature of geodata, and the utility of a vpl for geo-computation.

  \item \refchap{chap:postscript}: Post Scriptum, argues the wider implications of this study. 

\end{itemize}
